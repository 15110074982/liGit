var MyButton=function(t){function e(e){t.call(this),this.str1="",this.str1=e,this.addCard(this.str1)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.addTouchEvent=function(){this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBegin,this)},s.removeTouchEvent=function(){this.touchEnabled=!1},s.setAnchoffset=function(t,e){this.card.anchorOffsetX=this.card.width*t,this.card.anchorOffsetY=this.card.height*e},s.touchBegin=function(t){egret.Tween.get(this).to({scaleX:1.1,scaleY:1.1},100),this.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this)},s.touchEnd=function(t){this.touchEnabled=!1,this.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),egret.Tween.get(this).to({scaleX:1,scaleY:1},150).call(function(){this.touchEnabled=!0,this.dispatchEvent(new egret.Event("click"))},this)},s.clear=function(){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBegin,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this)},s.addCard=function(t){null==this.card&&(this.card=new egret.Bitmap,this.addChild(this.card)),this.card.texture=RES.getRes(t),this.card.x=-this.card.width/2,this.card.y=-this.card.height/2},e}(egret.Sprite);egret.registerClass(MyButton,"MyButton");var Levelone=function(t){function e(){t.call(this),this.init()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.getPoint=function(t){document.addEventListener("keydown",function(e){switch(e.key){case"ArrowRight":t.x+=10;break;case"ArrowLeft":t.x-=10;break;case"ArrowUp":t.y-=10;break;case"ArrowDown":t.y+=10}console.log(t.x+"--------------"+t.y)})},s.init=function(){this.initView()},s.initView=function(){this.sc&&this.sc.stop();var t=RES.getRes("p1");this.sc=t.play(0,1),this.back(),this.btns(),this.words(),this.bbox(),this.bs(),this.initAni()},s.initAni=function(){this.initEvent()},s.initEvent=function(){this.btn1.addTouchEvent(),this.btn1.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.b1,this),this.btn2.addTouchEvent(),this.btn2.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.b2,this),this.btn3.addTouchEvent(),this.btn3.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.b3,this),this.d1.touchEnabled=!0,this.d1.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.c1,this),this.d2.touchEnabled=!0,this.d2.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.c2,this),this.d3.touchEnabled=!0,this.d3.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.c3,this),this.d4.touchEnabled=!0,this.d4.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.c4,this),this.d5.touchEnabled=!0,this.d5.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.c5,this),this.d6.touchEnabled=!0,this.d6.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.c6,this),this.d7.touchEnabled=!0,this.d7.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.c7,this),this.d8.touchEnabled=!0,this.d8.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.c8,this),this.d9.touchEnabled=!0,this.d9.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.c9,this),this.d10.touchEnabled=!0,this.d10.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.c10,this),this.d11.touchEnabled=!0,this.d11.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.c11,this),this.d12.touchEnabled=!0,this.d12.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.c12,this),this.d13.touchEnabled=!0,this.d13.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.c13,this),this.d14.touchEnabled=!0,this.d14.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.c14,this),this.d15.touchEnabled=!0,this.d15.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.c15,this)},s.overAni=function(){},s.clear=function(){},s.back=function(){var t=new egret.Bitmap(RES.getRes("bg"));this.addChild(t),t.touchEnabled=!0;var e=new egret.Bitmap(RES.getRes("titArea"));this.addChild(e)},s.btns=function(){this.btn1=new MyButton("mark"),this.addChild(this.btn1),this.btn1.x=30,this.btn1.y=30,this.btn2=new MyButton("trumpet"),this.addChild(this.btn2),this.btn2.x=990,this.btn2.y=30,this.btn3=new MyButton("next"),this.addChild(this.btn3),this.btn3.x=1080,this.btn3.y=35},s.words=function(){this.word=new egret.Bitmap(RES.getRes("tit1")),this.addChild(this.word),this.word.scaleX=0,this.word.x=70,this.word.y=15},s.b1=function(){egret.Tween.get(this.btn1).to({rotation:-30},100).to({rotation:30},200).to({rotation:0},100),0==this.word.scaleX?egret.Tween.get(this.word).to({scaleX:1},400):1==this.word.scaleX&&egret.Tween.get(this.word).to({scaleX:0},400)},s.b2=function(){this.sc&&this.sc.stop();var t=RES.getRes("p1");this.sc=t.play(0,1)},s.b3=function(){this.sc&&this.sc.stop(),this.dispatchEvent(new egret.Event("goSecond"))},s.bbox=function(){var t=new egret.Bitmap(RES.getRes("box"));this.addChild(t),t.x=240,t.y=80},s.bs=function(){this.bea1(),this.bea2(),this.bea3(),this.bea4(),this.bea5(),this.bea6(),this.bea7(),this.bea8(),this.bea9(),this.bea10(),this.bea11(),this.bea12(),this.bea13(),this.bea14(),this.bea15()},s.bea1=function(){this.d1=new egret.Bitmap(RES.getRes("bea3")),this.addChild(this.d1),this.d1.anchorOffsetX=this.d1.width/2,this.d1.anchorOffsetY=this.d1.height/2,this.d1.x=420,this.d1.y=170},s.bea2=function(){this.d2=new egret.Bitmap(RES.getRes("bea2")),this.addChild(this.d2),this.d2.anchorOffsetX=this.d2.width/2,this.d2.anchorOffsetY=this.d2.height/2,this.d2.x=560,this.d2.y=170,this.d2.touchEnabled=!0},s.bea3=function(){this.d3=new egret.Bitmap(RES.getRes("bea2")),this.addChild(this.d3),this.d3.anchorOffsetX=this.d3.width/2,this.d3.anchorOffsetY=this.d3.height/2,this.d3.x=700,this.d3.y=170,this.d3.touchEnabled=!0},s.bea4=function(){this.d4=new egret.Bitmap(RES.getRes("bea4")),this.addChild(this.d4),this.d4.anchorOffsetX=this.d4.width/2,this.d4.anchorOffsetY=this.d4.height/2,this.d4.x=410,this.d4.y=255,this.d4.touchEnabled=!0},s.bea5=function(){this.d5=new egret.Bitmap(RES.getRes("bea3")),this.addChild(this.d5),this.d5.anchorOffsetX=this.d5.width/2,this.d5.anchorOffsetY=this.d5.height/2,this.d5.x=560,this.d5.y=255,this.d5.touchEnabled=!0},s.bea6=function(){this.d6=new egret.Bitmap(RES.getRes("bea5")),this.addChild(this.d6),this.d6.anchorOffsetX=this.d6.width/2,this.d6.anchorOffsetY=this.d6.height/2,this.d6.x=720,this.d6.y=255,this.d6.touchEnabled=!0},s.bea7=function(){this.d7=new egret.Bitmap(RES.getRes("bea4")),this.addChild(this.d7),this.d7.anchorOffsetX=this.d7.width/2,this.d7.anchorOffsetY=this.d7.height/2,this.d7.x=400,this.d7.y=340,this.d7.touchEnabled=!0},s.bea8=function(){this.d8=new egret.Bitmap(RES.getRes("bea1")),this.addChild(this.d8),this.d8.anchorOffsetX=this.d8.width/2,this.d8.anchorOffsetY=this.d8.height/2,this.d8.x=560,this.d8.y=340,this.d8.touchEnabled=!0},s.bea9=function(){this.d9=new egret.Bitmap(RES.getRes("bea2")),this.addChild(this.d9),this.d9.anchorOffsetX=this.d9.width/2,this.d9.anchorOffsetY=this.d9.height/2,this.d9.x=730,this.d9.y=340,this.d9.touchEnabled=!0},s.bea10=function(){this.d10=new egret.Bitmap(RES.getRes("bea2")),this.addChild(this.d10),this.d10.anchorOffsetX=this.d10.width/2,this.d10.anchorOffsetY=this.d10.height/2,this.d10.x=390,this.d10.y=425,this.d10.touchEnabled=!0},s.bea11=function(){this.d11=new egret.Bitmap(RES.getRes("bea4")),this.addChild(this.d11),this.d11.anchorOffsetX=this.d11.width/2,this.d11.anchorOffsetY=this.d11.height/2,this.d11.x=560,this.d11.y=425,this.d11.touchEnabled=!0},s.bea12=function(){this.d12=new egret.Bitmap(RES.getRes("bea5")),this.addChild(this.d12),this.d12.anchorOffsetX=this.d12.width/2,this.d12.anchorOffsetY=this.d12.height/2,this.d12.x=740,this.d12.y=425,this.d12.touchEnabled=!0},s.bea13=function(){this.d13=new egret.Bitmap(RES.getRes("bea4")),this.addChild(this.d13),this.d13.anchorOffsetX=this.d13.width/2,this.d13.anchorOffsetY=this.d13.height/2,this.d13.x=380,this.d13.y=510,this.d13.touchEnabled=!0},s.bea14=function(){this.d14=new egret.Bitmap(RES.getRes("bea3")),this.addChild(this.d14),this.d14.anchorOffsetX=this.d14.width/2,this.d14.anchorOffsetY=this.d14.height/2,this.d14.x=560,this.d14.y=510,this.d14.touchEnabled=!0},s.bea15=function(){this.d15=new egret.Bitmap(RES.getRes("bea4")),this.addChild(this.d15),this.d15.anchorOffsetX=this.d15.width/2,this.d15.anchorOffsetY=this.d15.height/2,this.d15.x=750,this.d15.y=510,this.d15.touchEnabled=!0},s.c1=function(){this.sc&&this.sc.stop();var t=RES.getRes("click1");this.sc=t.play(0,1),egret.Tween.get(this.d1).to({scaleX:1.3,scaleY:1.3,rotation:360},600).wait(100).to({scaleX:1,scaleY:1,rotation:0},600)},s.c2=function(){this.sc&&this.sc.stop();var t=RES.getRes("click1");this.sc=t.play(0,1),egret.Tween.get(this.d2).to({scaleX:1.3,scaleY:1.3,rotation:360},600).wait(100).to({scaleX:1,scaleY:1,rotation:0},600)},s.c3=function(){this.sc&&this.sc.stop();var t=RES.getRes("click1");this.sc=t.play(0,1),egret.Tween.get(this.d3).to({scaleX:1.3,scaleY:1.3,rotation:360},600).wait(100).to({scaleX:1,scaleY:1,rotation:0},600)},s.c4=function(){this.sc&&this.sc.stop();var t=RES.getRes("click1");this.sc=t.play(0,1),egret.Tween.get(this.d4).to({scaleX:1.3,scaleY:1.3,rotation:360},600).wait(100).to({scaleX:1,scaleY:1,rotation:0},600)},s.c5=function(){this.sc&&this.sc.stop();var t=RES.getRes("click1");this.sc=t.play(0,1),egret.Tween.get(this.d5).to({scaleX:1.3,scaleY:1.3,rotation:360},600).wait(100).to({scaleX:1,scaleY:1,rotation:0},600)},s.c6=function(){this.sc&&this.sc.stop();var t=RES.getRes("click1");this.sc=t.play(0,1),egret.Tween.get(this.d6).to({scaleX:1.3,scaleY:1.3,rotation:360},600).wait(100).to({scaleX:1,scaleY:1,rotation:0},600)},s.c7=function(){this.sc&&this.sc.stop();var t=RES.getRes("click1");this.sc=t.play(0,1),egret.Tween.get(this.d7).to({scaleX:1.3,scaleY:1.3,rotation:360},600).wait(100).to({scaleX:1,scaleY:1,rotation:0},600)},s.c8=function(){this.sc&&this.sc.stop();var t=RES.getRes("click1");this.sc=t.play(0,1),egret.Tween.get(this.d8).to({scaleX:1.3,scaleY:1.3,rotation:360},600).wait(100).to({scaleX:1,scaleY:1,rotation:0},600)},s.c9=function(){this.sc&&this.sc.stop();var t=RES.getRes("click1");this.sc=t.play(0,1),egret.Tween.get(this.d9).to({scaleX:1.3,scaleY:1.3,rotation:360},600).wait(100).to({scaleX:1,scaleY:1,rotation:0},600)},s.c10=function(){this.sc&&this.sc.stop();var t=RES.getRes("click1");this.sc=t.play(0,1),egret.Tween.get(this.d10).to({scaleX:1.3,scaleY:1.3,rotation:360},600).wait(100).to({scaleX:1,scaleY:1,rotation:0},600)},s.c11=function(){this.sc&&this.sc.stop();var t=RES.getRes("click1");this.sc=t.play(0,1),egret.Tween.get(this.d11).to({scaleX:1.3,scaleY:1.3,rotation:360},600).wait(100).to({scaleX:1,scaleY:1,rotation:0},600)},s.c12=function(){this.sc&&this.sc.stop();var t=RES.getRes("click1");this.sc=t.play(0,1),egret.Tween.get(this.d12).to({scaleX:1.3,scaleY:1.3,rotation:360},600).wait(100).to({scaleX:1,scaleY:1,rotation:0},600)},s.c13=function(){this.sc&&this.sc.stop();var t=RES.getRes("click1");this.sc=t.play(0,1),egret.Tween.get(this.d13).to({scaleX:1.3,scaleY:1.3,rotation:360},600).wait(100).to({scaleX:1,scaleY:1,rotation:0},600)},s.c14=function(){this.sc&&this.sc.stop();var t=RES.getRes("click1");this.sc=t.play(0,1),egret.Tween.get(this.d14).to({scaleX:1.3,scaleY:1.3,rotation:360},600).wait(100).to({scaleX:1,scaleY:1,rotation:0},600)},s.c15=function(){this.sc&&this.sc.stop();var t=RES.getRes("click1");this.sc=t.play(0,1),egret.Tween.get(this.d15).to({scaleX:1.3,scaleY:1.3,rotation:360},600).wait(100).to({scaleX:1,scaleY:1,rotation:0},600)},e}(egret.Sprite);egret.registerClass(Levelone,"Levelone");var Leveltwo=function(t){function e(){t.call(this),this.num=0,this.A=new Array(0,1,2,3,4),this.ToyArr=new Array,this.init()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.getPoint=function(t){document.addEventListener("keydown",function(e){switch(e.key){case"ArrowRight":t.x+=10;break;case"ArrowLeft":t.x-=10;break;case"ArrowUp":t.y-=10;break;case"ArrowDown":t.y+=10}console.log(t.x+"--------------"+t.y)})},s.init=function(){this.initView()},s.initView=function(){this.back(),this.btns(),this.words(),this.line1(),this.line2(),this.initAni()},s.initAni=function(){this.sc&&this.sc.stop();var t=RES.getRes("p2");this.sc=t.play(0,1),this.initEvent()},s.initEvent=function(){this.btn1.addTouchEvent(),this.btn1.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.b1,this),this.btn2.addTouchEvent(),this.btn2.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.b2,this),this.btn3.addTouchEvent(),this.btn3.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.b3,this),this.btn4.addTouchEvent(),this.btn4.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.again,this);var t=this;for(var e in t.ToyArr){var i=t.ToyArr[e];i.num=e,i.ix=i.x,i.iy=i.y,i._isAdd=!1,i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.begin,t)}},s.overAni=function(){},s.clear=function(){},s.back=function(){this.background=new egret.Bitmap(RES.getRes("gbg1")),this.addChild(this.background),this.background.touchEnabled=!0;var t=new egret.Bitmap(RES.getRes("titArea"));this.addChild(t)},s.btns=function(){this.btn1=new MyButton("mark"),this.addChild(this.btn1),this.btn1.x=30,this.btn1.y=30,this.btn2=new MyButton("trumpet"),this.addChild(this.btn2),this.btn2.x=990,this.btn2.y=30,this.btn3=new MyButton("next"),this.addChild(this.btn3),this.btn3.x=1080,this.btn3.y=35,this.btn4=new MyButton("retry"),this.addChild(this.btn4),this.btn4.x=900,this.btn4.y=33},s.words=function(){this.word=new egret.Bitmap(RES.getRes("tit2")),this.addChild(this.word),this.word.scaleX=0,this.word.x=70,this.word.y=15},s.b1=function(){egret.Tween.get(this.btn1).to({rotation:-30},100).to({rotation:30},200).to({rotation:0},100),0==this.word.scaleX?egret.Tween.get(this.word).to({scaleX:1},400):1==this.word.scaleX&&egret.Tween.get(this.word).to({scaleX:0},400)},s.b2=function(){this.sc&&this.sc.stop();var t=RES.getRes("p2");this.sc=t.play(0,1)},s.b3=function(){this.sc&&this.sc.stop(),this.dispatchEvent(new egret.Event("goThird"))},s.again=function(){this.sc&&this.sc.stop(),this.dispatchEvent(new egret.Event("tryAgain2"))},s.line1=function(){this.line11=new egret.Bitmap(RES.getRes("b1")),this.addChild(this.line11),this.line11.anchorOffsetX=this.line11.width/2,this.line11.anchorOffsetY=this.line11.height/2,this.line11.x=140,this.line11.y=190,this.line12=new egret.Bitmap(RES.getRes("b2")),this.addChild(this.line12),this.line12.anchorOffsetX=this.line12.width/2,this.line12.anchorOffsetY=this.line12.height/2,this.line12.x=350,this.line12.y=190,this.line13=new egret.Bitmap(RES.getRes("b3")),this.addChild(this.line13),this.line13.anchorOffsetX=this.line13.width/2,this.line13.anchorOffsetY=this.line13.height/2,this.line13.x=560,this.line13.y=190,this.line14=new egret.Bitmap(RES.getRes("b4")),this.addChild(this.line14),this.line14.anchorOffsetX=this.line14.width/2,this.line14.anchorOffsetY=this.line14.height/2,this.line14.x=780,this.line14.y=190,this.line15=new egret.Bitmap(RES.getRes("b5")),this.addChild(this.line15),this.line15.anchorOffsetX=this.line15.width/2,this.line15.anchorOffsetY=this.line15.height/2,this.line15.x=1010,this.line15.y=180},s.line2=function(){for(var t in this.A){var e=new egret.Bitmap(RES.getRes("n"+(Number(t)+1)));this.addChild(e),this.ToyArr.push(e),e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,0==Number(t)?(e.x=560,e.y=540):1==Number(t)?(e.x=760,e.y=540):2==Number(t)?(e.x=140,e.y=540):3==Number(t)?(e.x=980,e.y=540):4==Number(t)&&(e.x=350,e.y=540)}},s.begin=function(t){function e(t){s.x=t.stageX,s.y=t.stageY}function i(){var t=this;t.removeEventListener(egret.TouchEvent.TOUCH_MOVE,e,t),t.removeEventListener(egret.TouchEvent.TOUCH_END,i,t);var n;if(0==s.num){var t=this;if(n=egret.Point.distance(new egret.Point(s.x,s.y),new egret.Point(140,320)),70>n){s._isAdd=!0,s.touchEnabled=!1,s.x=140,s.y=320,this.sc&&this.sc.stop();var h=RES.getRes("click1");this.sc=h.play(0,1)}else{egret.Tween.removeTweens(s),egret.Tween.get(s).to({x:s.ix,y:s.iy},300),this.sc&&this.sc.stop();var h=RES.getRes("click2");this.sc=h.play(0,1)}}else if(1==s.num){var t=this;if(n=egret.Point.distance(new egret.Point(s.x,s.y),new egret.Point(350,320)),70>n){s._isAdd=!0,s.touchEnabled=!1,s.x=350,s.y=320,this.sc&&this.sc.stop();var h=RES.getRes("click1");this.sc=h.play(0,1)}else{egret.Tween.removeTweens(s),egret.Tween.get(s).to({x:s.ix,y:s.iy},300),this.sc&&this.sc.stop();var h=RES.getRes("click2");this.sc=h.play(0,1)}}else if(2==s.num){var t=this;if(n=egret.Point.distance(new egret.Point(s.x,s.y),new egret.Point(560,320)),70>n){s._isAdd=!0,s.touchEnabled=!1,s.x=560,s.y=320,this.sc&&this.sc.stop();var h=RES.getRes("click1");this.sc=h.play(0,1)}else{egret.Tween.removeTweens(s),egret.Tween.get(s).to({x:s.ix,y:s.iy},300),this.sc&&this.sc.stop();var h=RES.getRes("click2");this.sc=h.play(0,1)}}else if(3==s.num){var t=this;if(n=egret.Point.distance(new egret.Point(s.x,s.y),new egret.Point(760,320)),70>n){s._isAdd=!0,s.touchEnabled=!1,s.x=760,s.y=320,this.sc&&this.sc.stop();var h=RES.getRes("click1");this.sc=h.play(0,1)}else{egret.Tween.removeTweens(s),egret.Tween.get(s).to({x:s.ix,y:s.iy},300),this.sc&&this.sc.stop();var h=RES.getRes("click2");this.sc=h.play(0,1)}}else if(4==s.num){var t=this;if(n=egret.Point.distance(new egret.Point(s.x,s.y),new egret.Point(980,320)),70>n){s._isAdd=!0,s.touchEnabled=!1,s.x=980,s.y=320,this.sc&&this.sc.stop();var h=RES.getRes("click1");this.sc=h.play(0,1)}else{egret.Tween.removeTweens(s),egret.Tween.get(s).to({x:s.ix,y:s.iy},300),this.sc&&this.sc.stop();var h=RES.getRes("click2");this.sc=h.play(0,1)}}var a=!0;for(var r in t.ToyArr)if(!t.ToyArr[r]._isAdd){a=!1;break}if(a){this.sc&&this.sc.stop();var h=RES.getRes("win");this.sc=h.play(0,1),t.gameWin()}}var s=t.currentTarget,n=this;this.addChild(s),n.addEventListener(egret.TouchEvent.TOUCH_MOVE,e,n),n.addEventListener(egret.TouchEvent.TOUCH_END,i,n)},s.gameWin=function(){var t=new egret.Bitmap(RES.getRes("winpic"));this.addChild(t),t.x=100,t.y=30,t.scaleX=t.scaleY=1.2,t.alpha=0,egret.Tween.get(t).to({alpha:1},300).to({alpha:.5},300).to({alpha:1},300);var e=this;egret.Tween.get(this.background).wait(4e3).call(function(){e.dispatchEvent(new egret.Event("goThird"))})},e}(egret.Sprite);egret.registerClass(Leveltwo,"Leveltwo");var Levelthree=function(t){function e(){t.call(this),this.A=new Array(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14),this.ToyArr=new Array,this.num=0,this.init()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.getPoint=function(t){document.addEventListener("keydown",function(e){switch(e.key){case"ArrowRight":t.x+=10;break;case"ArrowLeft":t.x-=10;break;case"ArrowUp":t.y-=10;break;case"ArrowDown":t.y+=10}console.log(t.x+"--------------"+t.y)})},s.init=function(){this.initView()},s.initView=function(){this.back(),this.btns(),this.words(),this.beans(),this.initAni()},s.initAni=function(){this.sc&&this.sc.stop();var t=RES.getRes("p3");this.sc=t.play(0,1),this.initEvent()},s.initEvent=function(){this.btn1.addTouchEvent(),this.btn1.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.b1,this),this.btn2.addTouchEvent(),this.btn2.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.b2,this),this.btn3.addTouchEvent(),this.btn3.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.b3,this),this.btn4.addTouchEvent(),this.btn4.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.again,this);var t=this;for(var e in t.ToyArr){var i=t.ToyArr[e];i.num=e,i.ix=i.x,i.iy=i.y,i._isAdd=!1,i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.begin,t)}},s.overAni=function(){},s.clear=function(){},s.back=function(){this.background=new egret.Bitmap(RES.getRes("bg")),this.addChild(this.background),this.background.touchEnabled=!0;var t=new egret.Bitmap(RES.getRes("titArea"));this.addChild(t);var e=new egret.Bitmap(RES.getRes("sbox"));this.addChild(e),e.x=10,e.y=80},s.btns=function(){this.btn1=new MyButton("mark"),this.addChild(this.btn1),this.btn1.x=30,this.btn1.y=30,this.btn2=new MyButton("trumpet"),this.addChild(this.btn2),this.btn2.x=990,this.btn2.y=30,this.btn3=new MyButton("home"),this.addChild(this.btn3),this.btn3.x=1080,this.btn3.y=35,this.btn4=new MyButton("retry"),this.addChild(this.btn4),this.btn4.x=900,this.btn4.y=33},s.words=function(){this.word=new egret.Bitmap(RES.getRes("tit2")),this.addChild(this.word),this.word.scaleX=0,this.word.x=70,this.word.y=5},s.b1=function(){egret.Tween.get(this.btn1).to({rotation:-30},100).to({rotation:30},200).to({rotation:0},100),0==this.word.scaleX?egret.Tween.get(this.word).to({scaleX:1},400):1==this.word.scaleX&&egret.Tween.get(this.word).to({scaleX:0},400)},s.b2=function(){this.sc&&this.sc.stop();var t=RES.getRes("p3");this.sc=t.play(0,1)},s.b3=function(){this.sc&&this.sc.stop(),this.dispatchEvent(new egret.Event("goBack"))},s.again=function(){this.sc&&this.sc.stop(),this.dispatchEvent(new egret.Event("tryAgain3"))},s.beans=function(){for(var t in this.A){var e;0==Number(t)||4==Number(t)||13==Number(t)?(e=new egret.Bitmap(RES.getRes("sb3")),this.addChild(e)):1==Number(t)||2==Number(t)||8==Number(t)||9==Number(t)?(e=new egret.Bitmap(RES.getRes("sb2")),this.addChild(e)):3==Number(t)||6==Number(t)||10==Number(t)||12==Number(t)||14==Number(t)?(e=new egret.Bitmap(RES.getRes("sb4")),this.addChild(e)):5==Number(t)||11==Number(t)?(e=new egret.Bitmap(RES.getRes("sb5")),this.addChild(e)):(e=new egret.Bitmap(RES.getRes("sb1")),this.addChild(e)),this.ToyArr.push(e),e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,Number(t)<3?(e.x=450+110*Number(t),e.y=140):Number(t)<6&&Number(t)>2?(e.x=445+112*(Number(t)-3),e.y=200):Number(t)<9&&Number(t)>5?(e.x=440+118*(Number(t)-6),e.y=260):Number(t)<12&&Number(t)>8?(e.x=437+122*(Number(t)-9),e.y=320):(e.x=433+126*(Number(t)-12),e.y=377)}},s.begin=function(t){function e(t){s.x=t.stageX,s.y=t.stageY}function i(){n.removeEventListener(egret.TouchEvent.TOUCH_MOVE,e,n),n.removeEventListener(egret.TouchEvent.TOUCH_END,i,n);var t;if(0==s.num||4==s.num||13==s.num)if(t=egret.Point.distance(new egret.Point(s.x,s.y),new egret.Point(130,550)),100>t){s._isAdd=!0,s.touchEnabled=!1,0==s.num?egret.Tween.get(s).to({scaleX:.8,scaleY:.8,x:120,y:500},200):4==s.num?egret.Tween.get(s).to({scaleX:.8,scaleY:.8,x:160,y:500},200):egret.Tween.get(s).to({scaleX:.8,scaleY:.8,x:70,y:540},200);var h=RES.getRes("click1");h.play(0,1)}else{egret.Tween.removeTweens(s),egret.Tween.get(s).to({x:s.ix,y:s.iy},300);var h=RES.getRes("click2");this.sc=h.play(0,1)}else if(1==s.num||2==s.num||8==s.num||9==s.num)if(t=egret.Point.distance(new egret.Point(s.x,s.y),new egret.Point(350,550)),100>t){s._isAdd=!0,s.touchEnabled=!1,1==s.num?egret.Tween.get(s).to({scaleX:.8,scaleY:.8,x:340,y:500},200):2==s.num?egret.Tween.get(s).to({scaleX:.8,scaleY:.8,x:380,y:500},200):8==s.num?egret.Tween.get(s).to({scaleX:.8,scaleY:.8,x:290,y:540},200):egret.Tween.get(s).to({scaleX:.8,scaleY:.8,x:330,y:540},200);var h=RES.getRes("click1");h.play(0,1)}else{egret.Tween.removeTweens(s),egret.Tween.get(s).to({x:s.ix,y:s.iy},300);var h=RES.getRes("click2");this.sc=h.play(0,1)}else if(7==s.num)if(t=egret.Point.distance(new egret.Point(s.x,s.y),new egret.Point(570,550)),100>t){s._isAdd=!0,s.touchEnabled=!1,egret.Tween.get(s).to({scaleX:.8,scaleY:.8,x:565,y:500},200);var h=RES.getRes("click1");h.play(0,1)}else{egret.Tween.removeTweens(s),egret.Tween.get(s).to({x:s.ix,y:s.iy},300);var h=RES.getRes("click2");this.sc=h.play(0,1)}else if(5==s.num||11==s.num)if(t=egret.Point.distance(new egret.Point(s.x,s.y),new egret.Point(1010,550)),100>t){s._isAdd=!0,s.touchEnabled=!1,5==s.num?egret.Tween.get(s).to({scaleX:.8,scaleY:.8,x:1015,y:505},200):11==s.num&&egret.Tween.get(s).to({scaleX:.8,scaleY:.8,x:1058,y:505},200);var h=RES.getRes("click1");h.play(0,1)}else{egret.Tween.removeTweens(s),egret.Tween.get(s).to({x:s.ix,y:s.iy},300);var h=RES.getRes("click2");this.sc=h.play(0,1)}else if(t=egret.Point.distance(new egret.Point(s.x,s.y),new egret.Point(790,550)),100>t){s._isAdd=!0,s.touchEnabled=!1,3==s.num?egret.Tween.get(s).to({scaleX:.8,scaleY:.8,x:800,y:505},200):6==s.num?egret.Tween.get(s).to({scaleX:.8,scaleY:.8,x:845,y:505},200):10==s.num?egret.Tween.get(s).to({scaleX:.8,scaleY:.8,x:735,y:545},200):12==s.num?egret.Tween.get(s).to({scaleX:.8,scaleY:.8,x:780,y:545},200):14==s.num&&egret.Tween.get(s).to({scaleX:.8,scaleY:.8,x:825,y:545},200);var h=RES.getRes("click1");h.play(0,1)}else{egret.Tween.removeTweens(s),egret.Tween.get(s).to({x:s.ix,y:s.iy},300);var h=RES.getRes("click2");this.sc=h.play(0,1)}var a=!0;for(var r in n.ToyArr)if(!n.ToyArr[r]._isAdd){a=!1;break}if(a){this.sc&&this.sc.stop();var h=RES.getRes("win");this.sc=h.play(0,1),n.gameWin()}}var s=t.currentTarget,n=this;this.addChild(s),n.addEventListener(egret.TouchEvent.TOUCH_MOVE,e,n),n.addEventListener(egret.TouchEvent.TOUCH_END,i,n)},s.gameWin=function(){var t=new egret.Bitmap(RES.getRes("winpic"));this.addChild(t),t.x=100,t.y=30,t.scaleX=t.scaleY=1.2,t.alpha=0,egret.Tween.get(t).to({alpha:1},300).to({alpha:.5},300).to({alpha:1},300);var e=this;egret.Tween.get(this.background).wait(4e3).call(function(){e.dispatchEvent(new egret.Event("goBack"))})},e}(egret.Sprite);egret.registerClass(Levelthree,"Levelthree");var LoadingUI=function(t){function e(){t.call(this),this.createView()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},s.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var Main=function(t){function e(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.onAddToStage=function(t){e.stageWidth=this.stage.stageWidth,e.stageHeight=this.stage.stageHeight,this.stage.scaleMode=egret.StageScaleMode.EXACT_FIT,this.stage.orientation=egret.OrientationMode.LANDSCAPE,this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},s.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},s.onResourceLoadComplete=function(t){"preload"==t.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.createGameScene())},s.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},s.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},s.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},s.createGameScene=function(){this.removeGame3(),this.startScene=new Startscene,this.addChild(this.startScene),this.startScene.addEventListener("level1",this.game1,this),this.startScene.addEventListener("level2",this.game2,this)},s.removeGameScene=function(){this.startScene&&(this.startScene.removeEventListener("level1",this.game1,this),this.startScene.removeEventListener("level2",this.game2,this),this.removeChild(this.startScene),this.startScene=null)},s.game1=function(){this.removeGameScene(),this.levelOne=new Levelone,this.addChild(this.levelOne),this.levelOne.addEventListener("goSecond",this.game2,this)},s.removeGame1=function(){this.levelOne&&(this.levelOne.removeEventListener("goSecond",this.game2,this),this.removeChild(this.levelOne),this.levelOne=null)},s.game2=function(){this.removeGameScene(),this.removeGame1(),this.levelTwo=new Leveltwo,this.addChild(this.levelTwo),this.levelTwo.addEventListener("tryAgain2",this.retry2,this),this.levelTwo.addEventListener("goThird",this.game3,this)},s.removeGame2=function(){this.levelTwo&&(this.levelTwo.removeEventListener("tryAgain2",this.retry2,this),this.levelTwo.removeEventListener("goThird",this.game3,this),this.removeChild(this.levelTwo),this.levelTwo=null)},s.retry2=function(){this.removeGame2(),this.levelTwo=new Leveltwo,this.addChild(this.levelTwo),this.levelTwo.addEventListener("tryAgain2",this.retry2,this),this.levelTwo.addEventListener("goThird",this.game3,this)},s.game3=function(){this.removeGame2(),this.levelThree=new Levelthree,this.addChild(this.levelThree),this.levelThree.addEventListener("tryAgain3",this.retry3,this),this.levelThree.addEventListener("goBack",this.createGameScene,this)},s.removeGame3=function(){this.levelThree&&(this.levelThree.removeEventListener("tryAgain3",this.retry3,this),this.levelThree.removeEventListener("goBack",this.createGameScene,this),this.removeChild(this.levelThree),this.levelThree=null)},s.retry3=function(){this.removeGame3(),this.levelThree=new Levelthree,this.addChild(this.levelThree),this.levelThree.addEventListener("tryAgain3",this.retry3,this),this.levelThree.addEventListener("goBack",this.createGameScene,this)},e}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");var Startscene=function(t){function e(){t.call(this),this.init()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.getPoint=function(t){document.addEventListener("keydown",function(e){switch(e.key){case"ArrowRight":t.x+=10;break;case"ArrowLeft":t.x-=10;break;case"ArrowUp":t.y-=10;break;case"ArrowDown":t.y+=10}console.log(t.x+"--------------"+t.y)})},s.init=function(){this.initView()},s.initView=function(){this.background(),this.title(),this.btns(),this.dou(),this.initAni()},s.initAni=function(){var t=this;egret.Tween.get(this.sashs).wait(1e3).to({alpha:1},1e3).call(function(){egret.Tween.get(t.sashs,{loop:1}).to({alpha:0},1e3).to({alpha:1},1e3),t.sc&&t.sc.stop();var e=RES.getRes("p0");t.sc=e.play(0,1),egret.Tween.get(t.tit).wait(600).to({scaleY:1,scaleX:1},1e3).call(function(){egret.Tween.get(t.btn1).wait(600).to({scaleY:.8,scaleX:1.05},300).to({scaleY:.8},100).to({scaleY:1.1,scaleX:.95},150).to({scaleY:1,scaleX:1},120).to({scaleY:.9},80).to({scaleY:1.08,scaleX:.97},130).to({scaleY:1,scaleX:1},130),egret.Tween.get(t.btn2).wait(600).to({scaleY:.8,scaleX:1.05},300).to({scaleY:.8},100).to({scaleY:1.1,scaleX:.95},150).to({scaleY:1,scaleX:1},120).to({scaleY:.9},80).to({scaleY:1.08,scaleX:.97},130).to({scaleY:1,scaleX:1},130).call(function(){t.initEvent()})})})},s.initEvent=function(){this.btn1.addTouchEvent(),this.btn1.addEventListener("click",this.level1,this),this.btn2.addTouchEvent(),this.btn2.addEventListener("click",this.level2,this)},s.overani=function(){},s.clear=function(){},s.background=function(){var t=new egret.Bitmap(RES.getRes("bg"));this.addChild(t)},s.dou=function(){this.sashs=new egret.Bitmap(RES.getRes("beas")),this.addChild(this.sashs),this.sashs.x=70,this.sashs.y=10,this.sashs.alpha=0},s.title=function(){this.tit=new egret.Bitmap(RES.getRes("tit")),this.addChild(this.tit),this.tit.x=570.5,this.tit.y=237.5,this.tit.anchorOffsetX=this.tit.width/2,this.tit.anchorOffsetY=this.tit.height/2,this.tit.scaleX=this.tit.scaleY=0,this.getPoint(this.tit)},s.btns=function(){this.btn1=new MyButton("pass1"),this.addChild(this.btn1),this.btn1.x=340,this.btn1.y=490,this.btn1.scaleX=this.btn1.scaleY=0,this.btn2=new MyButton("pass2"),this.addChild(this.btn2),this.btn2.x=780,this.btn2.y=490,this.btn2.scaleX=this.btn2.scaleY=0},s.level1=function(){this.dispatchEvent(new egret.Event("level1"))},s.level2=function(){this.dispatchEvent(new egret.Event("level2"))},e}(egret.Sprite);egret.registerClass(Startscene,"Startscene");